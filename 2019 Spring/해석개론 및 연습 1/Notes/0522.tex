\section*{May 22nd, 2019}
\textbf{Review}\\
$f:[a, b]\ra\R$ is bounded.\\
$P = \{a = x_0 < x_1 < \cdots < x_n = b\} \in \mc{P}[a, b]$\\
$$m_i = \inf\{f(t): t\in [x_{i-1}, x_i] \} \qquad M_i = \sup\{f(t): t\in [x_{i-1}, x_i] \}$$
\begin{enumerate}
	\item (Lower) $L(f, P) = \ds \sum_{i=1}^n (x_i-x_{i-1}) m_i$
	\item (Upper) $U(f, P) = \ds \sum_{i=1}^n (x_i-x_{i-1}) M_i$
\end{enumerate}~\\
\prop{ 5.1.1} Suppose $f:[a, b]\ra\R$ is bounded.
\begin{enumerate}
	\item $P, Q\in \mc{P}[a, b]$, if $P\subset Q$ ($Q$ is a finer partition than $P$)
	$$L(f, P) \leq L(f, Q)\leq U(f, Q)\leq U(f, P)$$
	\item $P, P' \in \mc{P}[a, b] \imp L(f, P)\leq U(f, P')$
\end{enumerate}~\\
Define
\begin{itemize}
	\item Upper Integral $\ds \overline{\int_a^b} f = \inf\{U(f, P): P\in \mc{P}[a, b] \}$
	\item Lower Integral $\ds \underline{\int_a^b} f = \sup\{L(f, P): P\in \mc{P}[a, b] \}$
\end{itemize}
By Prop 5.1.1 (2), $\ds \underline{\int_a^b} f \leq \overline{\int_a^b} f$, and if $$\underline{\int_a^b}f = \overline{\int_a^b}f$$
we say that $f$ is \textbf{Riemann integrable}.\\
\\
\ex. $f:[0, 1]\ra \R$, $f(x) = \begin{cases}
	2 &(x\in \Q) \\ 0 &(x\in \R\bs\Q)
\end{cases}$\\
For any partition $P$, $M_i = 2$, $m_i = 0$ for all $i$. Then $U(f, P) = 2$, $L(f, P) = 0$, thus not Riemann Integrable.\footnote{리만 적분의 약함을 보여주는 상징적인 예입니다.}\\
\\
\rmk. $\ds \int_0^1 f(x)dx$ \underline{should be} 0. Cardinality of $\R\bs\Q$ is larger than $\Q$. $f$ is Lebesgue Integrable and the value is 0.\\
\\
\prop{ 5.1.2} The following are equivalent for bounded $f:[a, b]\ra\R$.
\begin{enumerate}
	\item $f$ is Riemann Integrable.
	\item $\forall \epsilon>0$, $\exists \, P \in \mc{P}[a, b]$ s.t. $U(f, P) - L(f, P) < \epsilon$.
\end{enumerate}
\pf. \textbf{(1\mimp2)} Suppose there exists partitions $P_1, P_2\in \mc{P}[a, b]$ s.t. $$\ds \overline{\int_a^b}f+ \frac{\epsilon}{2} > U(f, P_1)\qquad \underline{\int_a^b}f - \frac{\epsilon}{2} < L(f, P_2)$$
Since upper/lower integrals are equal, we have
$$L(f, P_2) \leq L(f, P_1\cup P_2) \leq U(f, P_1\cup P_2)\leq U(f, P_1)$$
and then $U(f, P_1\cup P_2) - L(f, P_1\cup P_2) < \epsilon$.\\
\textbf{(2\mimp1)} For all $\epsilon > 0$, $$\epsilon > U(f, P) - L(f, P) \geq \overline{\int_a^b}f - \underline{\int_a^b}f \geq 0$$
Thus upper/lower integrals must be same, and $f$ is Riemann Integrable.\\
\\
\ex. Riemann Integrable Functions
\begin{enumerate}
	\item $f$: Continuous
	\item $f$: Monotone
	\item $f(x) = \begin{cases}
		0 & (0\leq 0 < 1, 2 < x \leq 3)\\ 1 & (1\leq x\leq 2)
	\end{cases}$\\
	Consider the partition $$P = \left\{0, 1-\frac{\epsilon}{5}, 1 + \frac{\epsilon}{5}, 2 - \frac{\epsilon}{5}, 2 + \frac{\epsilon}{5}, 3\right\}$$
	Then $U(f, P) - L(f, P) = \ds \sum_{i=1}^n (M_i-m_i)(x_i - x_{i-1}) = \frac{4}{5}\epsilon < \epsilon$.
\end{enumerate}~\\
\thm{ 5.1.3} Suppose $f, g:[a, b]\ra\R$ is bounded and Riemann Integrable.
\begin{enumerate}
	\item $f+g$ is Riemann Integrable, and $\ds \int_a^b (f+g) = \int_a^b f + \int_a^b g$
	\item $\alpha\in \R$, $\alpha f$ is Riemann Integrable, and $\ds \int_a^b \alpha f = \alpha \int_a^b f$
\end{enumerate}
\pf.
\begin{enumerate}
	\item It is enough to show the following inequality.
	$$ \lint{_a^b}f + \lint{_a^b} g \leq \lint{_a^b} (f+g) \leq \uint{_a^b} (f+g) \leq \uint{_a^b} f + \uint{_a^b} g $$
	\begin{enumerate}
		\item For $P = \{a = x_0 < \cdots < x_n=b\}$, define the following $$m_{i}^f = \inf\{f(t):t\in [x_{i-1}, x_i] \}$$ $$m_{i}^g = \inf \{g(t):t\in [x_{i-1}, x_i] \}$$ $$m_{i}^{f+g} = \inf \{(f+g)(t) : t\in [x_{i-1}, x_i] \}$$
		Then we have\footnote{각각을 최적화 한 것이 합쳐서 최적화 한 것보다 좋다.} $$m_{i}^{f+g} \geq m_{i}^f + m_{i}^g$$
		\item From the definition of lower Riemann sum, we have\footnote{$\sup$ 을 양변에 취하는 시도는 실패한다.} $$L(f+g, P)\geq L(f, P) + L(g, P) $$
		\item $\forall\epsilon>0$, there exists $P_1, P_2\in \mc{P}[a, b]$ s.t.
		$$L(f, P_1) > \lint{_a^b}f - \frac{\epsilon}{2} \qquad L(g, P_2) > \lint{_a^b} g- \frac{\epsilon}{2}$$
		\item $$\begin{aligned}
			\lint{_a^b} (f+g) &\geq L(f+g, P_1\cup P_2) \underset{(b)}{\geq} L(f, P_1\cup P_2) + L(g, P_1\cup P_2) \\
			&\geq L(f, P_1) + L(g, P_2) \underset{(c)}{\geq} \lint{_a^b} f + \lint{_a^b} g -\epsilon
		\end{aligned}$$
	\end{enumerate}
	Take $\epsilon \ra 0$ to prove the first inequality. (Last inequality can be proved similarly.)
	\item
	\begin{enumerate}
		\item $\alpha > 0$, then
		$$U(\alpha f, P) = \alpha \cdot U(f, P) \qquad L(\alpha f, P) = \alpha \cdot L(f, P)$$
		thus $$ \uint{_a^b} \alpha f = \alpha \uint{_a^b} f \qquad \lint{_a^b} \alpha f = \alpha \lint{_a^b} f$$
		\item $\alpha < 0$, then
		$$U(\alpha f, P) = \alpha \cdot L(f, P) \qquad L(\alpha f, P) = \alpha \cdot U(f, P)$$
		thus $$ \uint{_a^b} \alpha f = \alpha \lint{_a^b} f \qquad \lint{_a^b} \alpha f = \alpha \uint{_a^b} f$$
	\end{enumerate}
	Thus Riemann Integrable in both cases.
\end{enumerate}~\\
\thm{ 5.1.4} Suppose $f:[a, b]\ra I$ is bounded and Riemann Integrable. Then for $c\in (a, b)$
\begin{enumerate}
	\item $f$ is Riemann Integrable on $[a, c], [c, b]$.
	\item $\ds \int_a^b f = \int_a^c f + \int_c^b f$
\end{enumerate}
\pf.
\begin{enumerate}
	\item $\forall\epsilon > 0$, $\exists \,P\in \mc{P}[a, b]$ s.t. $U(f, P)-L(f, P) <\epsilon$. Suppose the partition is $P = \{a = x_0 < x_1 < \cdots < x_{l-1} \leq c \leq x_l < \cdots < x_n =b\}$. Define a partition $Q = \{x_0 < x_1 < \cdots < x_{l-1} \leq c\}$. Then we have
	$$U(f, Q) - L(f, Q) = \sum_{i=1}^{l-1}(M_i-m_i)(x_i-x_{i-1}) + (M_l'-m_l')(c - x_{l-1})$$
	$$ U(f, P) - L(f, P) =  \sum_{i=1}^{l-1}(M_i-m_i)(x_i-x_{i-1}) + (M_l-m_l)(x_l - x_{l-1}) + \sum_{i=l+1}^n (M_i-m_i)(x_i - x_{i-1})$$
	Thus
	$$U(f, Q) - L(f, Q) \leq U(f, P) - L(f, P) < \epsilon$$
	and since $Q\in \mc{P}[a, c]$, $f$ is Riemann Integrable on $[a, c]$ by Prop 5.1.2.
	\item It is enough to show that $$\uint{_a^b} f = \uint{_a^c} f + \uint{_c^b} f \qquad \lint{_a^b} f = \lint{_a^c} f + \lint{_c^b} f$$
	We show the first equation.
	\begin{enumerate}
		\item[($\geq$)] $\forall \epsilon > 0$, exists $Q\in \mc{P}[a, c]$, $R\in \mc{P}[c, b]$ s.t. $$\uint{_a^c} f + \frac{\epsilon}{2} > U(f, Q)\qquad \uint{_c^b} f + \frac{\epsilon}{2} > U(f, R)$$
		Then we have 
		$$\uint{_a^c} f + \uint{_c^b} f + \epsilon > U(f, Q) + U(f, R) = U(f, Q\cup R) \geq \uint{_a^b} f$$
		\item[($\leq$)] Define $P = \{a = x_0 < x_1 < \cdots < x_{l-1} \leq c \leq x_l < \cdots < x_n =b\}$. Define a partition $Q = \{x_0 < x_1 < \cdots < x_{l-1} \leq c\}$, $R = \{c\le x_l < \cdots < x_n = b\}$.\\
		$\forall\epsilon > 0$,
		$$\uint{_a^c} f + \uint{_c^b} f \leq U(f, Q) + U(f, R) = U(f, P\cup \{c\}) \leq U(f, P)\leq \uint{_a^b} f +\epsilon$$
		(There exists $P$ s.t. satisfy the last inequality)
	\end{enumerate}
\end{enumerate}
\pagebreak